# LinuxCNC signal adapter for a parallel port operating in X-mode.
**Version 153-01C**  work in progress

Many PC printer port cards can be operated in 'X' mode in **LinuxCNC**.
In X-mode the card provides 9 input ports (Pin 1, Pin 10-17) and 8 output ports (Pin 2 - Pin 9). This is usually sufficient for a small CNC. I do not know if other software than LinuxCNC can set a Printer port card in X-mode.

I do not know a commercial version of an X-mode LPT breakout board, but they are easy to build using a commercially produced dual layer PCB. This is the X-mode adapter design that I use for my CNC's running LinuxCNC.
The hardware is designed in Eagle; the .sch and .brd files are included, as well
as the Gerber files for manufacturing. The board size is kept to 10 x 10 cm to keep the manufacturing costs low (with Far-East PCB services).
The **CERN-OHL-P V2** license applies, which means that you are free to copy the design, modify it and
sell the result.

**Design features:**

  * The breakout board Input and Output ports are electrically separated from the PC using fast optical couplers. The PC side of the circuit is powered via a small 5V DC/DC converter.
  * The board can be directly plugged into the PC printer connector, or connected via a standard 26 wire ribbon cable with a printer connector on the other end. The 26 pin connector can also be used to plug in a signal monitor.
  * The Inputs for Pins 10 through 17 support a wide range of input signals (<u>+</u> 30V). The Pin 1 Input is fully isolated from the whole adapter, and can handle up to 300V AC or DC, for instance to check presence of the mains or driver voltage.



**Inputs:**

**Pin 1** requires one or two series resistors (for DC) or capacitors (for AC) so that the effctive current through the bipolar optocoupler (PC814) is 4 - 6 mA:

* For standard 5V signals user 680 Ohm series resistance. For voltages over 100V use two components in series.
* For DC voltages make sure the power dissipation in the resistor(s) does not exceed their rating.
* For mains voltage use 2 x xxxnF for 127V and 2 x xxxnF for 230V. Each capacitor should preferably be rated for 400V.
* The P1 LED lights up when it detects the incoming signal.

**Pins 10 - 17** are set to about 0V (False) for an input between -30 and + 0.5 V, and to 5V (True) for an input between 1.5 an 30V. The input lines are filtered to suppress high frequency (~ 10 KHz) pulses. The 10 pin ribbon connector is an alternative input for Pin 10 - 17, and provides ground and 5V to supply a remote input panel.

**Outputs:**

**Pins 2 - 9 **drive 5V signals with a current up to 10 mA. The 10 pin ribbon connector is an alternative output, and provides ground and 5V to supply remote distribution panels.

**Power supply:** To be updated

**Software:** To be updated

**Assembly:**

The X-mode adapter 153-01C is designed with through hole components to facilitate home assembly. The component list (BOM) gives the details.
The small capacitors (with values between 10 and 100 nF) are required to suppress RF disturbance.
The antiparallel diode next to the power connector will prevent damage in case the 5V is connected with the wrong polarity.
Is no electric separation from the PC is required, the 5V DC/DC converter can be replaced by two wires, and a USB power cable can be connected to a USB port on the PC.